---
import espirituJoven from '../../public/espirituJovenV2.svg';
import transparencia from '../../public/transparenciaV2.svg';
import profecionalismo from '../../public/profecionalismoV2.svg';
import espírituEmprendedor from '../../public/espírituEmprendedorV2.svg';
import ejemplo from '../../public/ejemploV2.svg';
import eficiencia from '../../public/eficienciaV2.svg';
---

<div class={`mobile_kuepa_attitude_container`}>
    <div class={`title`}>Actitudes Kuepa</div>
    <div class={`description`}>Las actitudes que destacan a nuestros estudiantes de Kuepa</div>
    <div class={`main_card_container`}>
        <div id={`attitude_custom_carrousel`} class={`custom_carrousel`}>
            {
                [
                    {
                        icon: espirituJoven,
                        title: `Espíritu joven`,
                        description: ` "One day you'll leave this world behind
              So live a life you will remember."`,
                        name: `-The nights, Avicii`,
                    },
                    {
                        icon: transparencia,
                        title: `Transparencia`,
                        description: `"Tell me your secrets and ask me your questions ."`,
                        name: `-The scientist, Coldplay`,
                    },
                    {
                        icon: profecionalismo,
                        title: `Profesionalismo`,
                        description: ` “So many times,
              it happens too fast
              You trade your passion for glory
              Don't lose your grip on the dreams of the past
              You must fight just to keep them alive”`,
                        name: ` -Eye of the tiger, Survivor`,
                    },
                    {
                        icon: espírituEmprendedor,
                        title: `Espíritu Emprendedor`,
                        description: `"Tonight is the night, we'll fight
              'til it's over
              So we put our hands up
              Like the ceiling can't hold us"`,
                        name: `-Can't Hold Us,
              Macklemore & Ryan Lewis`,
                    },
                    {
                        icon: ejemplo,
                        title: `Ejemplo`,
                        description: ` “Work it harder
              Make it better
              Do it faster
              Makes us stronger
              More than ever
              Hour after
              Our work is
              Never over”`,
                        name: `-Harder, Better, Faster, Stronger,  Daft Punk`,
                    },
                    {
                        icon: eficiencia,
                        title: ` Eficiencia en el delivery`,
                        description: `“La suerte es amiga de la acción”`,
                        name: `-Casi q' me pierdo, Los Cafres`,
                    },
                ]?.map((item, index) => (
                    <div id={`attitude_card_${index}`} class={`attitude_card`}>
                        <div class={`top`}>
                            <div class={`icon`}>
                                <img src={item?.icon.src} alt="" width="28px" height="28px" />
                            </div>
                            <div class={`text`}>{item?.title}</div>
                        </div>
                        <div class={`middle`}>{item?.description}</div>
                        <div class={`bottom`}>{item?.name}</div>
                    </div>
                ))
            }
        </div>
    </div>
    <div class={`attitude_carrousel_navigation`}>
        <div id={`attitude_navigation_1`} class={`attitude_navigation`}></div>
        <div id={`attitude_navigation_2`} class={`attitude_navigation`}></div>
        <div id={`attitude_navigation_3`} class={`attitude_navigation`}></div>
        <div id={`attitude_navigation_4`} class={`attitude_navigation`}></div>
        <div id={`attitude_navigation_5`} class={`attitude_navigation`}></div>
        <div id={`attitude_navigation_6`} class={`attitude_navigation`}></div>
    </div>
</div>

<script>
    let attitude_custom_carrousel = document.getElementById('attitude_custom_carrousel');
    attitude_custom_carrousel?.addEventListener('scroll', () => {
        if (attitude_custom_carrousel) {
            [...document.getElementsByClassName(`attitude_navigation`)]?.map((item) => {
                item.classList.remove('active');
            });
            let navigation =
                Math.floor(
                    attitude_custom_carrousel?.scrollLeft / ((attitude_custom_carrousel?.scrollWidth - attitude_custom_carrousel?.offsetWidth) / 5)
                ) + 1;
            document.getElementById(`attitude_navigation_${navigation}`).classList.add('active');
        }
    });
    [...document.getElementsByClassName('attitude_card')]?.map((item, index) => {
        item?.addEventListener('click', () => {
            let navigation = (attitude_custom_carrousel.scrollWidth - attitude_custom_carrousel.offsetWidth) / 5;
            attitude_custom_carrousel.scrollLeft = index * navigation;
        });
    });
    [...document.getElementsByClassName('attitude_navigation')]?.map((item, index) => {
        item?.addEventListener('click', () => {
            let navigation = (attitude_custom_carrousel.scrollWidth - attitude_custom_carrousel.offsetWidth) / 5;
            attitude_custom_carrousel.scrollLeft = index * navigation;
        });
    });
</script>

<style>
    .mobile_kuepa_attitude_container {
        display: flex;
        flex-direction: column;
        align-items: center;
        overflow: hidden;
        background: #101112;
        padding: 0 20px;

        .title {
            margin-top: 130px;
            text-align: center;
            font-family: 'Poppins';
            font-size: 24px;
            font-style: normal;
            font-weight: 600;
            line-height: normal;
            background: linear-gradient(90deg, #fe8c00 0%, #f83600 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .description {
            margin-top: 16px;
            margin-bottom: 48px;
            width: 312px;
            color: #fff;
            text-align: center;
            font-family: 'Poppins';
            font-size: 16px;
            font-style: normal;
            font-weight: 400;
            line-height: normal;
        }

        .main_card_container {
            display: flex;
            flex-shrink: 0;
            width: 100%;
            height: 347px;
            position: relative;

            .custom_carrousel {
                height: 347px;
                display: flex;
            }

            .attitude_card {
                display: flex;
                flex-direction: column;
                padding: 24px;
                width: 235px;
                height: 265px;
                margin-right: 10px;
                flex-shrink: 0;
                border-radius: 16px;
                background: linear-gradient(95deg, rgba(254, 140, 0, 0.2) 5.21%, rgba(253, 83, 30, 0.1) 83.78%);
                box-shadow: 0px 4px 24px -1px rgba(0, 0, 0, 0.2);
                backdrop-filter: blur(20px);

                .top {
                    display: flex;

                    .text {
                        font-family: 'Poppins';
                        font-size: 16px;
                        font-style: normal;
                        font-weight: 600;
                        line-height: normal;
                        background: linear-gradient(90deg, #fe8c00 0%, #f83600 100%);
                        background-clip: text;
                        -webkit-background-clip: text;
                        -webkit-text-fill-color: transparent;
                    }

                    .icon {
                        margin-right: 10px;
                    }
                }

                .middle {
                    color: #fff;
                    font-family: 'Poppins';
                    font-size: 14px;
                    font-style: normal;
                    font-weight: 400;
                    line-height: normal;
                    margin-top: 13px;
                    margin-bottom: auto;
                }

                .bottom {
                    color: #fff;
                    font-family: 'Poppins';
                    font-size: 12px;
                    font-style: normal;
                    font-weight: 600;
                    line-height: normal;
                }
            }

            .remove {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        .custom_carrousel {
            overflow: auto;
            scroll-behavior: smooth;
        }

        .attitude_carrousel_navigation {
            display: flex;

            .attitude_navigation {
                width: 16px;
                height: 16px;
                margin: 12px;
                border-radius: 100%;
                border: 2px solid white;
                cursor: pointer;

                &.active {
                    border-color: #fd531e;
                    background-color: #fd531e;
                }
            }
        }
    }
</style>
